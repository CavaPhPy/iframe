# iframe
使用iframe嵌套页面，刷新之后回到默认嵌套页面问题的解决方案

#### 解决思路
通过锚点，保存点击的链接信息（iframe的src内容地址）。

#### 实现流程说明
1.不使用<a>标签自带的href属性跳转，改为自定义属性保存内容data-herf（根据需要自定义属性名）；  
2.当点击<a>标签时，将标签内的data-herf属性值，这个属性值即是子页面的地址，动态改变iframe的src属性值为从锚点中取出的值，从而达到打开特定子页面的效果，并通过锚点的形式写入URL；  
3.当刷新后，在文档加载完成的回调函数中，取出锚点中存储的子页面地址，并再次将iframe的src属性值设置为从锚点中取出的值，从而打开刷新之前的子页面，这样就能在刷新之后，依然保持原来打开页面的状态；

#### 已知问题
- main.html文件中，第51行
```
window.location.href = newUrl + "#";
```
通过设置一个空锚点信息过度（为了触发事件），避免了在浏览器中前进/后退之后，点击原来子页面链接无效的情况，但是页面会根据电脑情况不同，子页面出现一次明显/ 不明显闪烁的情况。（如果不要这行代码，会出现如下问题：比如当前嵌套并展示的是APage，点击BPage之后，打开了BPage，此时在浏览器中点击后退，页面显示APage内容，但在此点击BPage，子页面却不能跳转到BPage，依然是APage内容。）；
- 当在浏览器中前进/后退之后，刷新页面，子页面打开的是前进/后退之前的页面。比如当前嵌套并展示的是APage，点击BPage之后，打开了BPage，此时在浏览器中点击后退，页面显示APage内容，但是刷新之后，默认展示的是BPage。  

如果有更好的解决方案，请联系我~谢谢！

#### 文件说明
main.html：主页面  
iframe文件夹内：嵌套页面  

---


参考资料：[点我](https://www.cnblogs.com/zhuxiaojie/p/5990262.html)
